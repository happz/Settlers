(function(factory){if(typeof define==='function'&&define.amd)define(['jquery'],factory);else factory(jQuery);}(function($){"use strict";var TRUE=true,FALSE=false,NULL=null,undefined,QTIP,PLUGINS,MOUSE,usedIDs={},uitooltip='ui-tooltip',widget='ui-widget',disabled='ui-state-disabled',selector='div.qtip.'+uitooltip,defaultClass=uitooltip+'-default',focusClass=uitooltip+'-focus',hoverClass=uitooltip+'-hover',fluidClass=uitooltip+'-fluid',hideOffset='-31000px',replaceSuffix='_replacedByqTip',oldtitle='oldtitle',trackingBound;function log(){log.history=log.history||[];log.history.push(arguments);if('object'===typeof console){var c=console[console.warn?'warn':'log'],args=Array.prototype.slice.call(arguments),a;if(typeof arguments[0]==='string')args[0]='qTip2: '+args[0];a=c.apply?c.apply(console,args):c(args);}}function sanitizeOptions(opts){var content;if(!opts||'object'!==typeof opts)return FALSE;if(opts.metadata===NULL||'object'!==typeof opts.metadata)opts.metadata={type:opts.metadata};if('content' in opts){if(opts.content===NULL||'object'!==typeof opts.content||opts.content.jquery)opts.content={text:opts.content};content=opts.content.text||FALSE;if(!$.isFunction(content)&&((!content&&!content.attr)||content.length<1||('object'===typeof content&&!content.jquery)))opts.content.text=FALSE;if('title' in opts.content){if(opts.content.title===NULL||'object'!==typeof opts.content.title)opts.content.title={text:opts.content.title};content=opts.content.title.text||FALSE;if(!$.isFunction(content)&&((!content&&!content.attr)||content.length<1||('object'===typeof content&&!content.jquery)))opts.content.title.text=FALSE;}}if('position' in opts)if(opts.position===NULL||'object'!==typeof opts.position)opts.position={my:opts.position,at:opts.position};if('show' in opts)if(opts.show===NULL||'object'!==typeof opts.show)if(opts.show.jquery)opts.show={target:opts.show};else opts.show={event:opts.show};if('hide' in opts)if(opts.hide===NULL||'object'!==typeof opts.hide)if(opts.hide.jquery)opts.hide={target:opts.hide};else opts.hide={event:opts.hide};if('style' in opts)if(opts.style===NULL||'object'!==typeof opts.style)opts.style={classes:opts.style};$.each(PLUGINS,function(){if(this.sanitize)this.sanitize(opts);});return opts;}function QTip(target,options,id,attr){var self=this,docBody=document.body,tooltipID=uitooltip+'-'+id,isPositioning=0,isDrawing=0,tooltip=$(),namespace='.qtip-'+id,elements,cache;self.id=id;self.rendered=FALSE;self.elements=elements={target:target};self.timers={img:{}};self.options=options;self.checks={};self.plugins={};self.cache=cache={event:{},target:$(),disabled:FALSE,attr:attr,onTarget:FALSE};function convertNotation(notation){var i=0,obj,option=options,levels=notation.split('.');while(option=option[levels[i++]])if(i<levels.length)obj=option;return [obj||options,levels.pop()];}function setWidget(){var on=options.style.widget;tooltip.toggleClass(widget,on).toggleClass(defaultClass,options.style.def&&!on);elements.content.toggleClass(widget+'-content',on);if(elements.titlebar)elements.titlebar.toggleClass(widget+'-header',on);if(elements.button)elements.button.toggleClass(uitooltip+'-icon',!on);}function removeTitle(reposition){if(elements.title){elements.titlebar.remove();elements.titlebar=elements.title=elements.button=NULL;if(reposition!==FALSE)self.reposition();}}function createButton(){var button=options.content.title.button,isString=typeof button==='string',close=isString?button:'Close tooltip';if(elements.button)elements.button.remove();if(button.jquery)elements.button=button;else elements.button=$('<a />',{'class':'ui-state-default ui-tooltip-close '+(options.style.widget?'':uitooltip+'-icon'),'title':close,'aria-label':close}).prepend($('<span />',{'class':'ui-icon ui-icon-close','html':'&times;'}));elements.button.appendTo(elements.titlebar).attr('role','button').click(function(event){if(!tooltip.hasClass(disabled))self.hide(event);return FALSE;});self.redraw();}function createTitle(){var id=tooltipID+'-title';if(elements.titlebar)removeTitle();elements.titlebar=$('<div />',{'class':uitooltip+'-titlebar '+(options.style.widget?'ui-widget-header':'')}).append(elements.title=$('<div />',{'id':id,'class':uitooltip+'-title','aria-atomic':TRUE})).insertBefore(elements.content).delegate('.ui-tooltip-close','mousedown keydown mouseup keyup mouseout',function(event){$(this).toggleClass('ui-state-active ui-state-focus',event.type.substr(-4)==='down');}).delegate('.ui-tooltip-close','mouseover mouseout',function(event){$(this).toggleClass('ui-state-hover',event.type==='mouseover');});if(options.content.title.button)createButton();else if(self.rendered)self.redraw();}function updateButton(button){var elem=elements.button,title=elements.title;if(!self.rendered)return FALSE;if(!button)elem.remove();else{if(!title)createTitle();createButton();}}function updateTitle(content,reposition){var elem=elements.title;if(!self.rendered||!content)return FALSE;if($.isFunction(content))content=content.call(target,cache.event,self);if(content===FALSE||(!content&&content!==''))return removeTitle(FALSE);else if(content.jquery&&content.length>0)elem.empty().append(content.css({display:'block'}));else elem.html(content);self.redraw();if(reposition!==FALSE&&self.rendered&&tooltip.is(':visible'))self.reposition(cache.event);}function updateContent(content,reposition){var elem=elements.content;if(!self.rendered||!content)return FALSE;if($.isFunction(content))content=content.call(target,cache.event,self)||'';if(content.jquery&&content.length>0)elem.empty().append(content.css({display:'block'}));else elem.html(content);function detectImages(next){var images,srcs={};function imageLoad(image){if(image){delete srcs[image.src];clearTimeout(self.timers.img[image.src]);$(image).unbind(namespace);}if($.isEmptyObject(srcs)){self.redraw();if(reposition!==FALSE)self.reposition(cache.event);next();}}if((images=elem.find('img[src]:not([height]):not([width])')).length===0)return imageLoad();images.each(function(i,elem){if(srcs[elem.src]!==undefined)return;var iterations=0,maxIterations=3;(function timer(){if(elem.height||elem.width||(iterations>maxIterations))return imageLoad(elem);iterations+=1;self.timers.img[elem.src]=setTimeout(timer,700);}());$(elem).bind('error'+namespace+' load'+namespace,function(){imageLoad(this);});srcs[elem.src]=elem;});}if(self.rendered<0)tooltip.queue('fx',detectImages);else{isDrawing=0;detectImages($.noop);}return self;}function assignEvents(){var posOptions=options.position,targets={show:options.show.target,hide:options.hide.target,viewport:$(posOptions.viewport),document:$(document),body:$(document.body),window:$(window)},events={show:$.trim(''+options.show.event).split(' '),hide:$.trim(''+options.hide.event).split(' ')},IE6=$.browser.msie&&parseInt($.browser.version,10)===6;function showMethod(event){if(tooltip.hasClass(disabled))return FALSE;clearTimeout(self.timers.show);clearTimeout(self.timers.hide);var callback=function(){self.toggle(TRUE,event);};if(options.show.delay>0)self.timers.show=setTimeout(callback,options.show.delay);else callback();}function hideMethod(event){if(tooltip.hasClass(disabled)||isPositioning||isDrawing)return FALSE;var relatedTarget=$(event.relatedTarget||event.target),ontoTooltip=relatedTarget.closest(selector)[0]===tooltip[0],ontoTarget=relatedTarget[0]===targets.show[0];clearTimeout(self.timers.show);clearTimeout(self.timers.hide);if((posOptions.target==='mouse'&&ontoTooltip)||(options.hide.fixed&&((/mouse(out|leave|move)/).test(event.type)&&(ontoTooltip||ontoTarget)))){try{event.preventDefault();event.stopImmediatePropagation();}catch(e){}return;}if(options.hide.delay>0)self.timers.hide=setTimeout(function(){self.hide(event);},options.hide.delay);else self.hide(event);}function inactiveMethod(event){if(tooltip.hasClass(disabled))return FALSE;clearTimeout(self.timers.inactive);self.timers.inactive=setTimeout(function(){self.hide(event);},options.hide.inactive);}function repositionMethod(event){if(tooltip.is(':visible'))self.reposition(event);}tooltip.bind('mouseenter'+namespace+' mouseleave'+namespace,function(event){var state=event.type==='mouseenter';if(state)self.focus(event);tooltip.toggleClass(hoverClass,state);});if(options.hide.fixed){targets.hide=targets.hide.add(tooltip);tooltip.bind('mouseover'+namespace,function(){if(!tooltip.hasClass(disabled))clearTimeout(self.timers.hide);});}if(/mouse(out|leave)/i.test(options.hide.event)){if(options.hide.leave==='window')targets.window.bind('mouseout'+namespace+' blur'+namespace,function(event){if(/select|option/.test(event.target)&&!event.relatedTarget)self.hide(event);});}else if(/mouse(over|enter)/i.test(options.show.event))targets.hide.bind('mouseleave'+namespace,function(event){clearTimeout(self.timers.show);});if((''+options.hide.event).indexOf('unfocus')>-1)posOptions.container.closest('html').bind('mousedown'+namespace,function(event){var elem=$(event.target),enabled=!tooltip.hasClass(disabled)&&tooltip.is(':visible'),isAncestor=elem.parents(selector).filter(tooltip[0]).length>0;if(elem[0]!==target[0]&&elem[0]!==tooltip[0]&&!isAncestor&&!target.has(elem[0]).length&&!elem.attr('disabled'))self.hide(event);});if('number'===typeof options.hide.inactive){targets.show.bind('qtip-'+id+'-inactive',inactiveMethod);$.each(QTIP.inactiveEvents,function(index,type){targets.hide.add(elements.tooltip).bind(type+namespace+'-inactive',inactiveMethod);});}$.each(events.hide,function(index,type){var showIndex=$.inArray(type,events.show),targetHide=$(targets.hide);if((showIndex>-1&&targetHide.add(targets.show).length===targetHide.length)||type==='unfocus'){targets.show.bind(type+namespace,function(event){if(tooltip.is(':visible'))hideMethod(event);else showMethod(event);});delete events.show[showIndex];}else targets.hide.bind(type+namespace,hideMethod);});$.each(events.show,function(index,type){targets.show.bind(type+namespace,showMethod);});if('number'===typeof options.hide.distance)targets.show.add(tooltip).bind('mousemove'+namespace,function(event){var origin=cache.origin||{},limit=options.hide.distance,abs=Math.abs;if(abs(event.pageX-origin.pageX)>=limit||abs(event.pageY-origin.pageY)>=limit)self.hide(event);});if(posOptions.target==='mouse'){targets.show.bind('mousemove'+namespace,function(event){MOUSE={pageX:event.pageX,pageY:event.pageY,type:'mousemove'};});if(posOptions.adjust.mouse){if(options.hide.event){tooltip.bind('mouseleave'+namespace,function(event){if((event.relatedTarget||event.target)!==targets.show[0])self.hide(event);});elements.target.bind('mouseenter'+namespace+' mouseleave'+namespace,function(event){cache.onTarget=event.type==='mouseenter';});}targets.document.bind('mousemove'+namespace,function(event){if(cache.onTarget&&!tooltip.hasClass(disabled)&&tooltip.is(':visible'))self.reposition(event||MOUSE);});}}if(posOptions.adjust.resize||targets.viewport.length)($.event.special.resize?targets.viewport:targets.window).bind('resize'+namespace,repositionMethod);if(targets.viewport.length||(IE6&&tooltip.css('position')==='fixed'))targets.viewport.bind('scroll'+namespace,repositionMethod);}function unassignEvents(){var targets=[options.show.target[0],options.hide.target[0],self.rendered&&elements.tooltip[0],options.position.container[0],options.position.viewport[0],window,document];if(self.rendered)$([]).pushStack($.grep(targets,function(i){return typeof i==='object';})).unbind(namespace);else options.show.target.unbind(namespace+'-create');}self.checks.builtin={'^id$':function(obj,o,v){var id=v===TRUE?QTIP.nextid:v,tooltipID=uitooltip+'-'+id;if(id!==FALSE&&id.length>0&&!$('#'+tooltipID).length){tooltip[0].id=tooltipID;elements.content[0].id=tooltipID+'-content';elements.title[0].id=tooltipID+'-title';}},'^content.text$':function(obj,o,v){updateContent(v);},'^content.title.text$':function(obj,o,v){if(!v)return removeTitle();if(!elements.title&&v)createTitle();updateTitle(v);},'^content.title.button$':function(obj,o,v){updateButton(v);},'^position.(my|at)$':function(obj,o,v){if('string'===typeof v)obj[o]=new PLUGINS.Corner(v);},'^position.container$':function(obj,o,v){if(self.rendered)tooltip.appendTo(v);},'^show.ready$':function(){if(!self.rendered)self.render(1);else self.toggle(TRUE);},'^style.classes$':function(obj,o,v){tooltip.attr('class',uitooltip+' qtip ui-helper-reset '+v);},'^style.widget|content.title':setWidget,'^events.(render|show|move|hide|focus|blur)$':function(obj,o,v){tooltip[($.isFunction(v)?'':'un')+'bind']('tooltip'+o,v);},'^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)':function(){var posOptions=options.position;tooltip.attr('tracking',posOptions.target==='mouse'&&posOptions.adjust.mouse);unassignEvents();assignEvents();}};$.extend(self,{render:function(show){if(self.rendered)return self;var text=options.content.text,title=options.content.title.text,posOptions=options.position,callback=$.Event('tooltiprender');$.attr(target[0],'aria-describedby',tooltipID);tooltip=elements.tooltip=$('<div/>',{'id':tooltipID,'class':uitooltip+' qtip ui-helper-reset '+defaultClass+' '+options.style.classes+' '+uitooltip+'-pos-'+options.position.my.abbrev(),'width':options.style.width||'','height':options.style.height||'','tracking':posOptions.target==='mouse'&&posOptions.adjust.mouse,'role':'alert','aria-live':'polite','aria-atomic':FALSE,'aria-describedby':tooltipID+'-content','aria-hidden':TRUE}).toggleClass(disabled,cache.disabled).data('qtip',self).appendTo(options.position.container).append(elements.content=$('<div />',{'class':uitooltip+'-content','id':tooltipID+'-content','aria-atomic':TRUE}));self.rendered=-1;isDrawing=1;isPositioning=1;if(title){createTitle();if(!$.isFunction(title))updateTitle(title,FALSE);}if(!$.isFunction(text))updateContent(text,FALSE);self.rendered=TRUE;setWidget();$.each(options.events,function(name,callback){if($.isFunction(callback))tooltip.bind(name==='toggle'?'tooltipshow tooltiphide':'tooltip'+name,callback);});$.each(PLUGINS,function(){if(this.initialize==='render')this(self);});assignEvents();tooltip.queue('fx',function(next){callback.originalEvent=cache.event;tooltip.trigger(callback,[self]);isDrawing=0;isPositioning=0;self.redraw();if(options.show.ready||show)self.toggle(TRUE,cache.event,FALSE);next();});return self;},get:function(notation){var result,o;switch(notation.toLowerCase()){case 'dimensions':result={height:tooltip.outerHeight(),width:tooltip.outerWidth()};break;case 'offset':result=PLUGINS.offset(tooltip,options.position.container);break;default:o=convertNotation(notation.toLowerCase());result=o[0][o[1]];result=result.precedance?result.string():result;break;}return result;},set:function(option,value){var rmove=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,rdraw=/^content\.(title|attr)|style/i,reposition=FALSE,redraw=FALSE,checks=self.checks,name;function callback(notation,args){var category,rule,match;for(category in checks)for(rule in checks[category])if(match=new RegExp(rule,'i').exec(notation)){args.push(match);checks[category][rule].apply(self,args);}}if('string'===typeof option){name=option;option={};option[name]=value;}else option=$.extend(TRUE,{},option);$.each(option,function(notation,value){var obj=convertNotation(notation.toLowerCase()),previous;previous=obj[0][obj[1]];obj[0][obj[1]]='object'===typeof value&&value.nodeType?$(value):value;option[notation]=[obj[0],obj[1],value,previous];reposition=rmove.test(notation)||reposition;redraw=rdraw.test(notation)||redraw;});sanitizeOptions(options);isPositioning=isDrawing=1;$.each(option,callback);isPositioning=isDrawing=0;if(tooltip.is(':visible')&&self.rendered){if(reposition)self.reposition(options.position.target==='mouse'?NULL:cache.event);if(redraw)self.redraw();}return self;},toggle:function(state,event){if(!self.rendered)return state?self.render(1):self;var type=state?'show':'hide',opts=options[type],visible=tooltip.is(':visible'),sameTarget=!event||options[type].target.length<2||cache.target[0]===event.target,posOptions=options.position,contentOptions=options.content,delay,callback;if((typeof state).search('boolean|number'))state=!visible;if(!tooltip.is(':animated')&&visible===state&&sameTarget)return self;if(event){if((/over|enter/).test(event.type)&&(/out|leave/).test(cache.event.type)&&event.target===options.show.target[0]&&tooltip.has(event.relatedTarget).length)return self;cache.event=$.extend({},event);}callback=$.Event('tooltip'+type);callback.originalEvent=event?cache.event:NULL;tooltip.trigger(callback,[self,90]);if(callback.isDefaultPrevented())return self;$.attr(tooltip[0],'aria-hidden',!!!state);if(state){cache.origin=$.extend({},MOUSE);self.focus(event);if($.isFunction(contentOptions.text))updateContent(contentOptions.text,FALSE);if($.isFunction(contentOptions.title.text))updateTitle(contentOptions.title.text,FALSE);if(!trackingBound&&posOptions.target==='mouse'&&posOptions.adjust.mouse){$(document).bind('mousemove.qtip',function(event){MOUSE={pageX:event.pageX,pageY:event.pageY,type:'mousemove'};});trackingBound=TRUE;}self.reposition(event,arguments[2]);if((callback.solo=!!opts.solo))$(selector,opts.solo).not(tooltip).qtip('hide',callback);}else{clearTimeout(self.timers.show);delete cache.origin;if(trackingBound&&!$(selector+'[tracking="true"]:visible',opts.solo).not(tooltip).length){$(document).unbind('mousemove.qtip');trackingBound=FALSE;}self.blur(event);}function after(){if(state){if($.browser.msie)tooltip[0].style.removeAttribute('filter');tooltip.css('overflow','');if('string'===typeof opts.autofocus)$(opts.autofocus,tooltip).focus();callback=$.Event('tooltipvisible');callback.originalEvent=event?cache.event:NULL;tooltip.trigger(callback,[self]);opts.target.trigger('qtip-'+id+'-inactive');}else tooltip.css({display:'',visibility:'',opacity:'',left:'',top:''});}if(sameTarget)tooltip.stop(0,1);if(opts.effect===FALSE){tooltip[type]();after.call(tooltip);}else if($.isFunction(opts.effect)){opts.effect.call(tooltip,self);tooltip.queue('fx',function(n){after();n();});}else tooltip.fadeTo(90,state?1:0,after);if(state)opts.target.trigger('qtip-'+id+'-inactive');return self;},show:function(event){return self.toggle(TRUE,event);},hide:function(event){return self.toggle(FALSE,event);},focus:function(event){if(!self.rendered)return self;var qtips=$(selector),curIndex=parseInt(tooltip[0].style.zIndex,10),newIndex=QTIP.zindex+qtips.length,cachedEvent=$.extend({},event),focusedElem,callback;if(!tooltip.hasClass(focusClass)){callback=$.Event('tooltipfocus');callback.originalEvent=cachedEvent;tooltip.trigger(callback,[self,newIndex]);if(!callback.isDefaultPrevented()){if(curIndex!==newIndex){qtips.each(function(){if(this.style.zIndex>curIndex)this.style.zIndex=this.style.zIndex-1;});qtips.filter('.'+focusClass).qtip('blur',cachedEvent);}tooltip.addClass(focusClass)[0].style.zIndex=newIndex;}}return self;},blur:function(event){var cachedEvent=$.extend({},event),callback;tooltip.removeClass(focusClass);callback=$.Event('tooltipblur');callback.originalEvent=cachedEvent;tooltip.trigger(callback,[self]);return self;},reposition:function(event,effect){if(!self.rendered||isPositioning)return self;isPositioning=1;var target=options.position.target,posOptions=options.position,my=posOptions.my,at=posOptions.at,adjust=posOptions.adjust,method=adjust.method.split(' '),elemWidth=tooltip.outerWidth(),elemHeight=tooltip.outerHeight(),targetWidth=0,targetHeight=0,callback=$.Event('tooltipmove'),fixed=tooltip.css('position')==='fixed',viewport=posOptions.viewport,position={left:0,top:0},container=posOptions.container,flipoffset=FALSE,tip=self.plugins.tip,readjust={horizontal:method[0],vertical:(method[1]=method[1]||method[0]),enabled:viewport.jquery&&target[0]!==window&&target[0]!==docBody&&adjust.method!=='none',left:function(posLeft){var isShift=readjust.horizontal==='shift',viewportScroll=-container.offset.left+viewport.offset.left+viewport.scrollLeft,myWidth=my.x==='left'?elemWidth:my.x==='right'?-elemWidth:-elemWidth/2,atWidth=at.x==='left'?targetWidth:at.x==='right'?-targetWidth:-targetWidth/2,tipWidth=tip&&tip.size?tip.size.width||0:0,tipAdjust=tip&&tip.corner&&tip.corner.precedance==='x'&&!isShift?tipWidth:0,overflowLeft=viewportScroll-posLeft+tipAdjust,overflowRight=posLeft+elemWidth-viewport.width-viewportScroll+tipAdjust,offset=myWidth-(my.precedance==='x'||my.x===my.y?atWidth:0)-(at.x==='center'?targetWidth/2:0),isCenter=my.x==='center';if(isShift){tipAdjust=tip&&tip.corner&&tip.corner.precedance==='y'?tipWidth:0;offset=(my.x==='left'?1:-1)*myWidth-tipAdjust;position.left+=overflowLeft>0?overflowLeft:overflowRight>0?-overflowRight:0;position.left=Math.max(-container.offset.left+viewport.offset.left+(tipAdjust&&tip.corner.x==='center'?tip.offset:0),posLeft-offset,Math.min(Math.max(-container.offset.left+viewport.offset.left+viewport.width,posLeft+offset),position.left));}else{if(overflowLeft>0&&(my.x!=='left'||overflowRight>0))position.left-=offset;else if(overflowRight>0&&(my.x!=='right'||overflowLeft>0))position.left-=isCenter?-offset:offset;if(position.left!==posLeft&&isCenter)position.left-=adjust.x;if(position.left<viewportScroll&&-position.left>overflowRight)position.left=posLeft;}return position.left-posLeft;},top:function(posTop){var isShift=readjust.vertical==='shift',viewportScroll=-container.offset.top+viewport.offset.top+viewport.scrollTop,myHeight=my.y==='top'?elemHeight:my.y==='bottom'?-elemHeight:-elemHeight/2,atHeight=at.y==='top'?targetHeight:at.y==='bottom'?-targetHeight:-targetHeight/2,tipHeight=tip&&tip.size?tip.size.height||0:0,tipAdjust=tip&&tip.corner&&tip.corner.precedance==='y'&&!isShift?tipHeight:0,overflowTop=viewportScroll-posTop+tipAdjust,overflowBottom=posTop+elemHeight-viewport.height-viewportScroll+tipAdjust,offset=myHeight-(my.precedance==='y'||my.x===my.y?atHeight:0)-(at.y==='center'?targetHeight/2:0),isCenter=my.y==='center';if(isShift){tipAdjust=tip&&tip.corner&&tip.corner.precedance==='x'?tipHeight:0;offset=(my.y==='top'?1:-1)*myHeight-tipAdjust;position.top+=overflowTop>0?overflowTop:overflowBottom>0?-overflowBottom:0;position.top=Math.max(-container.offset.top+viewport.offset.top+(tipAdjust&&tip.corner.x==='center'?tip.offset:0),posTop-offset,Math.min(Math.max(-container.offset.top+viewport.offset.top+viewport.height,posTop+offset),position.top));}else{if(overflowTop>0&&(my.y!=='top'||overflowBottom>0))position.top-=offset;else if(overflowBottom>0&&(my.y!=='bottom'||overflowTop>0))position.top-=isCenter?-offset:offset;if(position.top!==posTop&&isCenter)position.top-=adjust.y;if(position.top<0&&-position.top>overflowBottom)position.top=posTop;}return position.top-posTop;}},win;if($.isArray(target)&&target.length===2){at={x:'left',y:'top'};position={left:target[0],top:target[1]};}else if(target==='mouse'&&((event&&event.pageX)||cache.event.pageX)){at={x:'left',y:'top'};event=(event&&(event.type==='resize'||event.type==='scroll')?cache.event:event&&event.pageX&&event.type==='mousemove'?event:MOUSE&&MOUSE.pageX&&(adjust.mouse||!event||!event.pageX)?{pageX:MOUSE.pageX,pageY:MOUSE.pageY}:!adjust.mouse&&cache.origin&&cache.origin.pageX&&options.show.distance?cache.origin:event)||event||cache.event||MOUSE||{};position={top:event.pageY,left:event.pageX};}else{if(target==='event')if(event&&event.target&&event.type!=='scroll'&&event.type!=='resize')target=cache.target=$(event.target);else target=cache.target;else target=cache.target=$(target.jquery?target:elements.target);target=$(target).eq(0);if(target.length===0)return self;else if(target[0]===document||target[0]===window){targetWidth=PLUGINS.iOS?window.innerWidth:target.width();targetHeight=PLUGINS.iOS?window.innerHeight:target.height();if(target[0]===window)position={top:(viewport||target).scrollTop(),left:(viewport||target).scrollLeft()};}else if(target.is('area')&&PLUGINS.imagemap)position=PLUGINS.imagemap(target,at,readjust.enabled?method:FALSE);else if(target[0].namespaceURI==='http://www.w3.org/2000/svg'&&PLUGINS.svg)position=PLUGINS.svg(target,at);else{targetWidth=target.outerWidth();targetHeight=target.outerHeight();position=PLUGINS.offset(target,container);}if(position.offset){targetWidth=position.width;targetHeight=position.height;flipoffset=position.flipoffset;position=position.offset;}if((PLUGINS.iOS<4.1&&PLUGINS.iOS>3.1)||PLUGINS.iOS==4.3||(!PLUGINS.iOS&&fixed)){win=$(window);position.left-=win.scrollLeft();position.top-=win.scrollTop();}position.left+=at.x==='right'?targetWidth:at.x==='center'?targetWidth/2:0;position.top+=at.y==='bottom'?targetHeight:at.y==='center'?targetHeight/2:0;}position.left+=adjust.x+(my.x==='right'?-elemWidth:my.x==='center'?-elemWidth/2:0);position.top+=adjust.y+(my.y==='bottom'?-elemHeight:my.y==='center'?-elemHeight/2:0);if(readjust.enabled){viewport={elem:viewport,height:viewport[(viewport[0]===window?'h':'outerH')+'eight'](),width:viewport[(viewport[0]===window?'w':'outerW')+'idth'](),scrollLeft:fixed?0:viewport.scrollLeft(),scrollTop:fixed?0:viewport.scrollTop(),offset:viewport.offset()||{left:0,top:0}};container={elem:container,scrollLeft:container.scrollLeft(),scrollTop:container.scrollTop(),offset:container.offset()||{left:0,top:0}};position.adjusted={left:readjust.horizontal!=='none'?readjust.left(position.left):0,top:readjust.vertical!=='none'?readjust.top(position.top):0};if(position.adjusted.left+position.adjusted.top)tooltip.attr('class',tooltip[0].className.replace(/ui-tooltip-pos-\w+/i,uitooltip+'-pos-'+my.abbrev()));if(flipoffset&&position.adjusted.left)position.left+=flipoffset.left;if(flipoffset&&position.adjusted.top)position.top+=flipoffset.top;}else position.adjusted={left:0,top:0};callback.originalEvent=$.extend({},event);tooltip.trigger(callback,[self,position,viewport.elem||viewport]);if(callback.isDefaultPrevented())return self;delete position.adjusted;if(effect===FALSE||isNaN(position.left)||isNaN(position.top)||target==='mouse'||!$.isFunction(posOptions.effect))tooltip.css(position);else if($.isFunction(posOptions.effect)){posOptions.effect.call(tooltip,self,$.extend({},position));tooltip.queue(function(next){$(this).css({opacity:'',height:''});if($.browser.msie)this.style.removeAttribute('filter');next();});}isPositioning=0;return self;},redraw:function(){if(self.rendered<1||isDrawing)return self;var container=options.position.container,perc,width,max,min;isDrawing=1;if(options.style.height)tooltip.css('height',options.style.height);if(options.style.width)tooltip.css('width',options.style.width);else{tooltip.css('width','').addClass(fluidClass);width=tooltip.width()+1;max=tooltip.css('max-width')||'';min=tooltip.css('min-width')||'';perc=(max+min).indexOf('%')>-1?container.width()/100:0;max=((max.indexOf('%')>-1?perc:1)*parseInt(max,10))||width;min=((min.indexOf('%')>-1?perc:1)*parseInt(min,10))||0;width=max+min?Math.min(Math.max(width,min),max):width;tooltip.css('width',Math.round(width)).removeClass(fluidClass);}isDrawing=0;return self;},disable:function(state){if('boolean'!==typeof state)state=!(tooltip.hasClass(disabled)||cache.disabled);if(self.rendered){tooltip.toggleClass(disabled,state);$.attr(tooltip[0],'aria-disabled',state);}else cache.disabled=!!state;return self;},enable:function(){return self.disable(FALSE);},destroy:function(){var t=target[0],title=$.attr(t,oldtitle),elemAPI=target.data('qtip');if(self.rendered){tooltip.remove();$.each(self.plugins,function(){if(this.destroy)this.destroy();});}clearTimeout(self.timers.show);clearTimeout(self.timers.hide);unassignEvents();if(!elemAPI||self===elemAPI){$.removeData(t,'qtip');if(options.suppress&&title){$.attr(t,'title',title);target.removeAttr(oldtitle);}target.removeAttr('aria-describedby');}target.unbind('.qtip-'+id);delete usedIDs[self.id];return target;}});}function init(id,opts){var obj,posOptions,attr,config,title,elem=$(this),docBody=$(document.body),newTarget=this===document?docBody:elem,metadata=(elem.metadata)?elem.metadata(opts.metadata):NULL,metadata5=opts.metadata.type==='html5'&&metadata?metadata[opts.metadata.name]:NULL,html5=elem.data(opts.metadata.name||'qtipopts');try{html5=typeof html5==='string'?new Function("return "+html5)():html5;}catch(e){log('Unable to parse HTML5 attribute data: '+html5);}config=$.extend(TRUE,{},QTIP.defaults,opts,typeof html5==='object'?sanitizeOptions(html5):NULL,sanitizeOptions(metadata5||metadata));posOptions=config.position;config.id=id;if('boolean'===typeof config.content.text){attr=elem.attr(config.content.attr);if(config.content.attr!==FALSE&&attr)config.content.text=attr;else{log('Unable to locate content for tooltip! Aborting render of tooltip on element: ',elem);return FALSE;}}if(!posOptions.container.length)posOptions.container=docBody;if(posOptions.target===FALSE)posOptions.target=newTarget;if(config.show.target===FALSE)config.show.target=newTarget;if(config.show.solo===TRUE)config.show.solo=posOptions.container.closest('body');if(config.hide.target===FALSE)config.hide.target=newTarget;if(config.position.viewport===TRUE)config.position.viewport=posOptions.container;posOptions.at=new PLUGINS.Corner(posOptions.at);posOptions.my=new PLUGINS.Corner(posOptions.my);if($.data(this,'qtip'))if(config.overwrite)elem.qtip('destroy');else if(config.overwrite===FALSE)return FALSE;if(config.suppress&&(title=$.attr(this,'title')))$(this).removeAttr('title').attr(oldtitle,title);obj=new QTip(elem,config,id,!!attr);$.data(this,'qtip',obj);elem.bind('remove.qtip-'+id+' removeqtip.qtip-'+id,function(){obj.destroy();});return obj;}QTIP=$.fn.qtip=function(options,notation,newValue){var command=(''+options).toLowerCase(),returned=NULL,args=$.makeArray(arguments).slice(1),event=args[args.length-1],opts=this[0]?$.data(this[0],'qtip'):NULL;if((!arguments.length&&opts)||command==='api')return opts;else if('string'===typeof options){this.each(function(){var api=$.data(this,'qtip');if(!api)return TRUE;if(event&&event.timeStamp)api.cache.event=event;if((command==='option'||command==='options')&&notation)if($.isPlainObject(notation)||newValue!==undefined)api.set(notation,newValue);else{returned=api.get(notation);return FALSE;}else if(api[command])api[command].apply(api[command],args);});return returned!==NULL?returned:this;}else if('object'===typeof options||!arguments.length){opts=sanitizeOptions($.extend(TRUE,{},options));return QTIP.bind.call(this,opts,event);}};QTIP.bind=function(opts,event){return this.each(function(i){var options,targets,events,namespace,api,id;id=$.isArray(opts.id)?opts.id[i]:opts.id;id=!id||id===FALSE||id.length<1||usedIDs[id]?QTIP.nextid++:(usedIDs[id]=id);namespace='.qtip-'+id+'-create';api=init.call(this,id,opts);if(api===FALSE)return TRUE;options=api.options;$.each(PLUGINS,function(){if(this.initialize==='initialize')this(api);});targets={show:options.show.target,hide:options.hide.target};events={show:$.trim(''+options.show.event).replace(/ /g,namespace+' ')+namespace,hide:$.trim(''+options.hide.event).replace(/ /g,namespace+' ')+namespace};if(/mouse(over|enter)/i.test(events.show)&&!/mouse(out|leave)/i.test(events.hide))events.hide+=' mouseleave'+namespace;targets.show.bind('mousemove'+namespace,function(event){MOUSE={pageX:event.pageX,pageY:event.pageY,type:'mousemove'};api.cache.onTarget=TRUE;});function hoverIntent(event){function render(){api.render(typeof event==='object'||options.show.ready);targets.show.add(targets.hide).unbind(namespace);}if(api.cache.disabled)return FALSE;api.cache.event=$.extend({},event);api.cache.target=event?$(event.target):[undefined];if(options.show.delay>0){clearTimeout(api.timers.show);api.timers.show=setTimeout(render,options.show.delay);if(events.show!==events.hide)targets.hide.bind(events.hide,function(){clearTimeout(api.timers.show);});}else render();}targets.show.bind(events.show,hoverIntent);if(options.show.ready||options.prerender)hoverIntent(event);});};PLUGINS=QTIP.plugins={Corner:function(corner){corner=(''+corner).replace(/([A-Z])/,' $1').replace(/middle/gi,'center').toLowerCase();this.x=(corner.match(/left|right/i)||corner.match(/center/)||['inherit'])[0].toLowerCase();this.y=(corner.match(/top|bottom|center/i)||['inherit'])[0].toLowerCase();var f=corner.charAt(0);this.precedance=(f==='t'||f==='b'?'y':'x');this.string=function(){return this.precedance==='y'?this.y+this.x:this.x+this.y;};this.abbrev=function(){var x=this.x.substr(0,1),y=this.y.substr(0,1);return x===y?x:(x==='c'||(x!=='c'&&y!=='c'))?y+x:x+y;};this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone};};},offset:function(elem,container){var pos=elem.offset(),docBody=elem.closest('body')[0],parent=container,scrolled,coffset,overflow;function scroll(e,i){pos.left+=i*e.scrollLeft();pos.top+=i*e.scrollTop();}if(parent){do if(parent.css('position')!=='static'){coffset=parent.position();pos.left-=coffset.left+(parseInt(parent.css('borderLeftWidth'),10)||0)+(parseInt(parent.css('marginLeft'),10)||0);pos.top-=coffset.top+(parseInt(parent.css('borderTopWidth'),10)||0)+(parseInt(parent.css('marginTop'),10)||0);if(!scrolled&&(overflow=parent.css('overflow'))!=='hidden'&&overflow!=='visible')scrolled=parent;}while((parent=$(parent[0].offsetParent)).length);if(scrolled&&scrolled[0]!==docBody)scroll(scrolled,1);}return pos;},iOS:parseFloat((''+(/CPU.*OS ([0-9_]{1,3})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,''])[1]).replace('undefined','3_2').replace('_','.'))||FALSE,fn:{attr:function(attr,val){if(this.length){var self=this[0],title='title',api=$.data(self,'qtip');if(attr===title&&api&&'object'===typeof api&&api.options.suppress)if(arguments.length<2)return $.attr(self,oldtitle);else{if(api&&api.options.content.attr===title&&api.cache.attr)api.set('content.text',val);return this.attr(oldtitle,val);}}return $.fn['attr'+replaceSuffix].apply(this,arguments);},clone:function(keepData){var titles=$([]),title='title',elems=$.fn['clone'+replaceSuffix].apply(this,arguments);if(!keepData)elems.filter('['+oldtitle+']').attr('title',function(){return $.attr(this,oldtitle);}).removeAttr(oldtitle);return elems;}}};$.each(PLUGINS.fn,function(name,func){if(!func||$.fn[name+replaceSuffix])return TRUE;var old=$.fn[name+replaceSuffix]=$.fn[name];$.fn[name]=function(){return func.apply(this,arguments)||old.apply(this,arguments);};});if(!$.ui){$['cleanData'+replaceSuffix]=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!==undefined;i++)try{$(elem).triggerHandler('removeqtip');}catch(e){}$['cleanData'+replaceSuffix](elems);};}QTIP.version='nightly';QTIP.nextid=0;QTIP.inactiveEvents='click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(' ');QTIP.zindex=15000;QTIP.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,suppress:TRUE,content:{text:TRUE,attr:'title',title:{text:FALSE,button:FALSE}},position:{my:'top left',at:'bottom right',target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,resize:TRUE,method:'flip flip'},effect:function(api,pos,viewport){$(this).animate(pos,{duration:200,queue:FALSE});}},show:{target:FALSE,event:'mouseenter',effect:TRUE,delay:90,solo:FALSE,ready:FALSE,autofocus:FALSE},hide:{target:FALSE,event:'mouseleave',effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE,leave:'window',distance:FALSE},style:{classes:'',widget:FALSE,width:FALSE,height:FALSE,def:TRUE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,visible:NULL,focus:NULL,blur:NULL}};}));