FIELD_SIDE_LENGTH   =  59
FIELD_WIDTH         = 118
FIELD_HEIGHT        = 102
PATH_WIDTH          =   8
PATH_HEIGHT         =   7
PATH_LENGTH         =  35
PATH_IMAGE_WIDTH    =  25
PATH_IMAGE_HEIGHT   =  38
NUMBER_IMAGE_WIDTH  =  36
NUMBER_IMAGE_HEIGHT =  36
THIEF_IMAGE_WIDTH   =  66
THIEF_IMAGE_HEIGHT  =  66

NODE_IMAGES_FREE    = [12, 12]
NODE_IMAGES_VILLAGE = [21, 21]
NODE_IMAGES_TOWN    = [21, 21]

PORT_DESCS = [
    [],
    {'nodes': [[1, 2]],
     'clock': [4]},
    [],
    {'nodes': [[8, 11], [7, 8]],
     'clock': [4, 5]},
    [],
    {'nodes': [[13, 23], [12, 13]],
     'clock': [5, 6]},
    [],
    {'nodes': [[36, 37]],
     'clock': [6]},
    [],
    {'nodes': [[46, 47], [47, 53]],
     'clock': [1, 6]},
    [],
    {'nodes': [[51, 52], [51, 54]],
     'clock': [1, 2]},
    [],
    {'nodes': [[49,50]],
     'clock': [2]},
    [],
    {'nodes': [[28, 29], [28, 41]],
     'clock': [2, 3]},
    [],
    {'nodes': [[15, 18], [18, 26]],
     'clock': [3, 4]}
    ]

PATH_DESCS = [
   [],
   {'field':     1,
    'nodes':     [1, 2],
    'position':  1},
   {'field':     1,
    'nodes':     [2, 3],
    'position':  6},
   {'field':     1,
    'nodes':     [1, 6],
    'position':  2},
   {'field':     2,
    'nodes':     [3, 4],
    'position':  2},
   {'field':     2,
    'nodes':     [3, 7],
    'position':  1},
   {'field':     2,
    'nodes':     [7, 8],
    'position':  6},
   {'field':     3,
    'nodes':     [8, 9],
    'position':  2},
   {'field':     3,
    'nodes':     [8, 11],
    'position':  1},
   {'field':     3,
    'nodes':     [11, 12],
    'position':  6},
   {'field':     3,
    'nodes':     [12, 13],
    'position':  5},
   {'field':     4,
    'nodes':     [15, 18],
    'position':  2},
   {'field':     4,
    'nodes':     [15, 6],
    'position':  1},
   {'field':     4,
    'nodes':     [6, 5],
    'position':  6},
   {'field':     5,
    'nodes':     [5, 16],
    'position':  2},
   {'field':     5,
    'nodes':     [5, 4],
    'position':  1},
   {'field':     5,
    'nodes':     [4, 10],
    'position':  6},
   {'field':     6,
    'nodes':     [10, 19],
    'position':  2},
   {'field':     6,
    'nodes':     [10, 9],
    'position':  1},
   {'field':     6,
    'nodes':     [9, 14],
    'position':  6},
   {'field':     7,
    'nodes':     [14, 21],
    'position':  2},
   {'field':     7,
    'nodes':     [14, 13],
    'position':  1},
   {'field':     7,
    'nodes':     [13, 23],
    'position':  6},
   {'field':     7,
    'nodes':     [23, 24],
    'position':  5},
   {'field':     8,
    'nodes':     [26, 29],
    'position':  2},
   {'field':     8,
    'nodes':     [18, 26],
    'position':  1},
   {'field':     8,
    'nodes':     [18, 17],
    'position':  6},
   {'field':     9,
    'nodes':     [17, 27],
    'position':  2},
   {'field':     9,
    'nodes':     [17, 16],
    'position':  1},
   {'field':     9,
    'nodes':     [16, 20],
    'position':  6},
   {'field':     10,
    'nodes':     [20, 30],
    'position':  2},
   {'field':     10,
    'nodes':     [20, 19],
    'position':  1},
   {'field':     10,
    'nodes':     [19, 22],
    'position':  6},
   {'field':     11,
    'nodes':     [22, 32],
    'position':  2},
   {'field':     11,
    'nodes':     [22, 21],
    'position':  1},
   {'field':     11,
    'nodes':     [21, 25],
    'position':  6},
   {'field':     12,
    'nodes':     [25, 34],
    'position':  2},
   {'field':     12,
    'nodes':     [25, 24],
    'position':  1},
   {'field':     12,
    'nodes':     [24, 36],
    'position':  6},
   {'field':     12,
    'nodes':     [36, 37],
    'position':  5},
   {'field':     8,
    'nodes':     [29, 28],
    'position':  3},
   {'field':     12,
    'nodes':     [37, 38],
    'position':  4},
   {'field':     13,
    'nodes':     [28, 41],
    'position':  2},
   {'field':     13,
    'nodes':     [28, 27],
    'position':  1},
   {'field':     13,
    'nodes':     [27, 31],
    'position':  6},
   {'field':     14,
    'nodes':     [31, 39],
    'position':  2},
   {'field':     14,
    'nodes':     [31, 30],
    'position':  1},
   {'field':     14,
    'nodes':     [30, 33],
    'position':  6},
   {'field':     15,
    'nodes':     [33, 42],
    'position':  2},
   {'field':     15,
    'nodes':     [33, 32],
    'position':  1},
   {'field':     15,
    'nodes':     [32, 35],
    'position':  6},
   {'field':     16,
    'nodes':     [35, 44],
    'position':  2},
   {'field':     16,
    'nodes':     [35, 34],
    'position':  1},
   {'field':     16,
    'nodes':     [34, 38],
    'position':  6},
   {'field':     16,
    'nodes':     [38, 46],
    'position':  5},
   {'field':     16,
    'nodes':     [46, 47],
    'position':  4},
   {'field':     17,
    'nodes':     [40, 50],
    'position':  2},
   {'field':     17,
    'nodes':     [40, 39],
    'position':  1},
   {'field':     17,
    'nodes':     [39, 43],
    'position':  6},
   {'field':     18,
    'nodes':     [43, 48],
    'position':  2},
   {'field':     18,
    'nodes':     [43, 42],
    'position':  1},
   {'field':     18,
    'nodes':     [42, 45],
    'position':  6},
   {'field':     19,
    'nodes':     [45, 51],
    'position':  2},
   {'field':     19,
    'nodes':     [45, 44],
    'position':  1},
   {'field':     19,
    'nodes':     [44, 47],
    'position':  6},
   {'field':     19,
    'nodes':     [47, 53],
    'position':  5},
   {'field':     17,
    'nodes':     [50, 49],
    'position':  3},
   {'field':     17,
    'nodes':     [48, 49],
    'position':  4},
   {'field':     18,
    'nodes':     [48, 52],
    'position':  3},
   {'field':     18,
    'nodes':     [52, 51],
    'position':  4},
   {'field':     19,
    'nodes':     [51, 54],
    'position':  3},
   {'field':     19,
    'nodes':     [54, 53],
    'position':  4},
   {'field':     13,
    'nodes':     [40, 41],
    'position':  3}
  ]

NODE_DESCS = [
   [],
   {'neighbours':   [2, 6],
    'fields':       [1],
    'paths':        [1, 3],
    'port':         -2},
   {'neighbours':   [1, 3],
    'fields':       [1],
    'paths':        [1, 2],
    'port':         -2},
   {'neighbours':   [2, 4, 7],
    'fields':       [1, 2],
    'paths':        [2, 4, 5]},
   {'neighbours':   [3, 5, 10],
    'fields':       [1, 2, 5],
    'paths':        [4, 15, 16]},
   {'neighbours':   [6, 16, 4],
    'fields':       [1, 4, 5],
    'paths':        [13, 14, 15]},
   {'neighbours':   [1, 15, 5],
    'fields':       [1, 4],
    'paths':        [3, 12, 13]},
   {'neighbours':   [3, 8],
    'fields':       [2],
    'paths':        [5, 6],
    'port':         0},
   {'neighbours':   [7, 9, 11],
    'fields':       [2, 3],
    'paths':        [6, 7, 8],
    'port':         0},
   {'neighbours':   [8, 10, 14],
    'fields':       [2, 3, 6],
    'paths':        [7, 18, 19]},
   {'neighbours':   [4, 19, 9],
    'fields':       [2, 5, 6],
    'paths':        [16, 17, 18]},
   {'neighbours':   [8, 12],
    'fields':       [3],
    'paths':        [8, 9]},
   {'neighbours':   [11, 13],
    'fields':       [3],
    'paths':        [9, 10]},
   {'neighbours':   [12, 14, 23],
    'fields':       [3, 7],
    'paths':        [10, 21, 22],
    'port':         1},
   {'neighbours':   [9, 21, 13],
    'fields':       [3, 6, 7],
    'paths':        [19, 20, 21]},
   {'neighbours':   [6, 18],
    'fields':       [4],
    'paths':        [11, 12],
    'port':         4},
   {'neighbours':   [5, 17, 20],
    'fields':       [4, 5, 9],
    'paths':        [14, 28, 29]},
   {'neighbours':   [18, 27, 16],
    'fields':       [4, 8, 9],
    'paths':        [26, 27, 28]},
   {'neighbours':   [15, 26, 17],
    'fields':       [4, 8],
    'paths':        [11, 25, 26],
    'port':         4},
   {'neighbours':   [10, 20, 22],
    'fields':       [5, 6, 10],
    'paths':        [17, 31, 32]},
   {'neighbours':   [16, 30, 19],
    'fields':       [5, 9, 10],
    'paths':        [29, 30, 31]},
   {'neighbours':   [14, 22, 25],
    'fields':       [6, 7, 11],
    'paths':        [20, 34, 35]},
   {'neighbours':   [19, 32, 21],
    'fields':       [6, 10, 11],
    'paths':        [32, 33, 34]},
   {'neighbours':   [13, 24],
    'fields':       [7],
    'paths':        [22, 23],
    'port':         1},
   {'neighbours':   [23, 25, 36],
    'fields':       [7, 12],
    'paths':        [23, 37, 38]},
   {'neighbours':   [21, 34, 24],
    'fields':       [7, 11, 12],
    'paths':        [35, 36, 37]},
   {'neighbours':   [18, 29],
    'fields':       [8],
    'paths':        [24, 25]},
   {'neighbours':   [17, 28, 31],
    'fields':       [8, 9, 13],
    'paths':        [27, 43, 44]},
   {'neighbours':   [29, 41, 27],
    'fields':       [8, 13],
    'paths':        [40, 42, 43],
    'port':         -2},
   {'neighbours':   [26, 28],
    'fields':       [8],
    'paths':        [24, 40]},
   {'neighbours':   [20, 31, 33],
    'fields':       [9, 10, 14],
    'paths':        [30, 46, 47]},
   {'neighbours':   [27, 39, 30],
    'fields':       [9, 13, 14],
    'paths':        [44, 45, 46]},
   {'neighbours':   [22, 33, 35],
    'fields':       [10, 11, 15],
    'paths':        [33, 49, 50]},
   {'neighbours':   [30, 42, 32],
    'fields':       [10, 14, 15],
    'paths':        [47, 48, 49]},
   {'neighbours':   [25, 35, 38],
    'fields':       [11, 12, 16],
    'paths':        [36, 52, 53]},
   {'neighbours':   [32, 44, 34],
    'fields':       [11, 15, 16],
    'paths':        [50, 51, 52]},
   {'neighbours':   [24, 37],
    'fields':       [12],
    'paths':        [38, 39],
    'port':         -2},
   {'neighbours':   [36, 38],
    'fields':       [12],
    'paths':        [39, 41],
    'port':         -2},
   {'neighbours':   [34, 46, 37],
    'fields':       [12, 16],
    'paths':        [53, 54, 41]},
   {'neighbours':   [31, 40, 43],
    'fields':       [13, 14, 17],
    'paths':        [45, 57, 58]},
   {'neighbours':   [41, 50, 39],
    'fields':       [13, 17],
    'paths':        [56, 57, 72]},
   {'neighbours':   [28, 40],
    'fields':       [13],
    'paths':        [42, 72],
    'port':         -2},
   {'neighbours':   [33, 43, 45],
    'fields':       [14, 15, 18],
    'paths':        [48, 60, 61]},
   {'neighbours':   [39, 48, 42],
    'fields':       [14, 17, 18],
    'paths':        [58, 59, 60]},
   {'neighbours':   [35, 45, 47],
    'fields':       [15, 16, 19],
    'paths':        [51, 63, 64]},
   {'neighbours':   [42, 51, 44],
    'fields':       [15, 18, 19],
    'paths':        [61, 62, 63]},
   {'neighbours':   [38, 47],
    'fields':       [16],
    'paths':        [54, 55],
    'port':         2},
   {'neighbours':   [44, 53, 46],
    'fields':       [16, 19],
    'paths':        [55, 64, 65],
    'port':         2},
   {'neighbours':   [43, 49, 52],
    'fields':       [17, 18],
    'paths':        [59, 67, 68]},
   {'neighbours':   [50, 48],
    'fields':       [17],
    'paths':        [66, 67],
    'port':         3},
   {'neighbours':   [40, 49],
    'fields':       [17],
    'paths':        [56, 66],
    'port':         3},
   {'neighbours':   [45, 52, 54],
    'fields':       [18, 19],
    'paths':        [62, 69, 70],
    'port':         -2},
   {'neighbours':   [48, 51],
    'fields':       [18],
    'paths':        [68, 69]},
   {'neighbours':   [47, 54],
    'fields':       [19],
    'paths':        [65, 71]},
   {'neighbours':   [51, 53],
    'fields':       [19],
    'paths':        [70, 71],
    'port':         -2},
  ]

FREE_NODE_COOR = { 1: (0.5, 1),
              2: (0,   1.5),
              3: (0.5, 2),
              4: (1.5, 2),
              5: (2,   1.5),
              6: (1.5, 1),
              7: (0,   2.5),
                   8: (0.5, 3),
                   9: (1.5, 3),
                  10: (2,   2.5),
                  11: (0,   3.5),
                  12: (0.5, 4),
                  13: (1.5, 4),
                  14: (2,   3.5),
                  15: (2,   0.5),
                  16: (3,   1.5),
                  17: (3.5, 1),
                  18: (3,   0.5),
                  19: (3,   2.5),
                  20: (3.5, 2),
                  21: (3,   3.5),
                  22: (3.5, 3),
                  23: (2,   4.5),
                  24: (3,   4.5),
                  25: (3.5, 4),
                  26: (3.5, 0),
                  27: (4.5, 1),
                  28: (5,   0.5),
                  29: (4.5, 0),
                  30: (4.5, 2),
                  31: (5,   1.5),
                  32: (4.5, 3),
                  33: (5,   2.5),
                  34: (4.5, 4),
                  35: (5,   3.5),
                  36: (3.5, 5),
                  37: (4.5, 5),
                  38: (5,   4.5),
                  39: (6,   1.5),
                  40: (6.5, 1),
                  41: (6,   0.5),
                  42: (6,   2.5),
                  43: (6.5, 2),
                  44: (6,   3.5),
                  45: (6.5, 3),
                  46: (6,   4.5),
                  47: (6.5, 4),
                  48: (7.5, 2),
                  49: (8,   1.5),
                  50: (7.5, 1),
                  51: (7.5, 3),
                  52: (8,   2.5),
                  53: (7.5, 4),
                  54: (8,   3.5)
                 }

OCCUPIED_NODE_COOR = { 1: (0.5, 1),
              2: (0,   1.5),
              3: (0.5, 2),
              4: (1.5, 2),
              5: (2,   1.5),
              6: (1.5, 1),
              7: (0,   2.5),
                   8: (0.5, 3),
                   9: (1.5, 3),
                  10: (2,   2.5),
                  11: (0,   3.5),
                  12: (0.5, 4),
                  13: (1.5, 4),
                  14: (2,   3.5),
                  15: (2,   0.5),
                  16: (3,   1.5),
                  17: (3.5, 1),
                  18: (3,   0.5),
                  19: (3,   2.5),
                  20: (3.5, 2),
                  21: (3,   3.5),
                  22: (3.5, 3),
                  23: (2,   4.5),
                  24: (3,   4.5),
                  25: (3.5, 4),
                  26: (3.5, 0),
                  27: (4.5, 1),
                  28: (5,   0.5),
                  29: (4.5, 0),
                  30: (4.5, 2),
                  31: (5,   1.5),
                  32: (4.5, 3),
                  33: (5,   2.5),
                  34: (4.5, 4),
                  35: (5,   3.5),
                  36: (3.5, 5),
                  37: (4.5, 5),
                  38: (5,   4.5),
                  39: (6,   1.5),
                  40: (6.5, 1),
                  41: (6,   0.5),
                  42: (6,   2.5),
                  43: (6.5, 2),
                  44: (6,   3.5),
                  45: (6.5, 3),
                  46: (6,   4.5),
                  47: (6.5, 4),
                  48: (7.5, 2),
                  49: (8,   1.5),
                  50: (7.5, 1),
                  51: (7.5, 3),
                  52: (8,   2.5),
                  53: (7.5, 4),
                  54: (8,   3.5)
                 }

COORS = {'field': { 1: (0,   1),
                    2: (0,   2),
                    3: (0,   3),
                    4: (1.5, 0.5),
                    5: (1.5, 1.5),
                    6: (1.5, 2.5),
                    7: (1.5, 3.5),
                    8: (3,   0),
                    9: (3,   1),
                   10: (3,   2),
                   11: (3,   3),
                   12: (3,   4),
                   13: (4.5, 0.5),
                   14: (4.5, 1.5),  
                   15: (4.5, 2.5),
                   16: (4.5, 3.5),
                   17: (6,   1),
                   18: (6,   2),
                   19: (6,   3)
                  },
         'number': {},
         'thief':  {},
         'sea':   { 1: (-1.5,   0.5),
                    2: (-1.5,   1.5),
                    3: (-1.5,   2.5),
                    4: (-1.5,   3.5),
                    5: ( 0,     4),
                    6: ( 1.5,   4.5),
                    7: ( 3,     5),
                    8: ( 4.5,   4.5),
                    9: ( 6,     4),
                   10: ( 7.5,   3.5),
                   11: ( 7.5,   2.5),
                   12: ( 7.5,   1.5),
                   13: ( 7.5,   0.5),
                   14: ( 6,     0),
                   15: ( 4.5,  -0.5),
                   16: ( 3,    -1),
                   17: ( 1.5,  -0.5),
                   18: ( 0,     0),
                  },
         'port':   {},
         'path':   {},
         'node':   {}
        }

FIELD_NEIGHBOURS = {
  1: [4, 5],
  2: [5, 6],
  3: [6, 7],
  4: [1, 5, 9, 8],
  5: [1, 2, 6, 10, 9, 4],
  6: [2, 3, 7, 11, 10, 5],
  7: [3, 12, 11, 6],
  8: [4, 9, 13],
  9: [4, 5, 10, 14, 13, 8],
  10: [5, 6, 11, 15, 14, 9],
  11: [6, 7, 12, 16, 15, 10],
  12: [7, 16, 11],
  13: [8, 9, 14, 17],
  14: [9, 10, 15, 18, 17, 13],
  15: [10, 11, 16, 19, 18, 14],
  16: [11, 12, 19, 15],
  17: [13, 14, 18],
  18: [14, 15, 19, 17],
  19: [15, 16, 18]
}

def init():
  i = 1
  for nd in NODE_DESCS:
    if len(nd) == 0:
      continue

    free_coor = (FREE_NODE_COOR[i][0] * FIELD_SIDE_LENGTH - (NODE_IMAGES_FREE[0] / 2),
                 FREE_NODE_COOR[i][1] * FIELD_HEIGHT - (NODE_IMAGES_FREE[1] / 2))
    occ_coor = (OCCUPIED_NODE_COOR[i][0] * FIELD_SIDE_LENGTH - (NODE_IMAGES_VILLAGE[0] / 2),
                OCCUPIED_NODE_COOR[i][1] * FIELD_HEIGHT - (NODE_IMAGES_VILLAGE[1] / 2))

    COORS['node'][i] = {1: free_coor,
                        2: occ_coor,
                        3: occ_coor}
    i = i + 1

  for (key, coor) in COORS['field'].items():
    COORS['field'][key]  = (coor[0] * FIELD_SIDE_LENGTH, coor[1] * FIELD_HEIGHT)
    COORS['number'][key] = (COORS['field'][key][0] + FIELD_SIDE_LENGTH - NUMBER_IMAGE_WIDTH / 2, COORS['field'][key][1] + FIELD_HEIGHT / 2 - NUMBER_IMAGE_HEIGHT / 2)
    COORS['thief'][key]  = (COORS['field'][key][0] + FIELD_SIDE_LENGTH - THIEF_IMAGE_WIDTH / 2, COORS['field'][key][1] + FIELD_HEIGHT / 2 - THIEF_IMAGE_HEIGHT / 2)

  for (key, coor) in COORS['sea'].items():
    coor = (coor[0] * FIELD_SIDE_LENGTH, coor[1] * FIELD_HEIGHT)
    COORS['sea'][key] = coor
    COORS['port'][key] = coor

  i = 1
  for pd in PATH_DESCS:
    if len(pd) == 0:
      continue

    if pd['position'] == 1:
      coor = (3, 10)

    elif pd['position'] == 2:
      coor = ((FIELD_WIDTH - FIELD_SIDE_LENGTH) / 2 + (FIELD_SIDE_LENGTH - PATH_LENGTH) / 2, -(PATH_HEIGHT / 2))

    elif pd['position'] == 3:
      coor = (FIELD_WIDTH * 0.75 + 2, 10)

    elif pd['position'] == 4:
      coor = ((FIELD_WIDTH - FIELD_SIDE_LENGTH) / 2 + FIELD_SIDE_LENGTH + 2, FIELD_HEIGHT / 2 + 9)

    elif pd['position'] == 5:
      coor = ((FIELD_WIDTH - FIELD_SIDE_LENGTH) / 2 + (FIELD_SIDE_LENGTH - PATH_LENGTH) / 2, -(PATH_HEIGHT / 2) + FIELD_HEIGHT)

    elif pd['position'] == 6:
      coor = (3, FIELD_HEIGHT / 2 + 9)

    f_coor = COORS['field'][pd['field']]

    COORS['path'][i] = (coor[0] + f_coor[0], coor[1] + f_coor[1])
    i = i + 1

init()
